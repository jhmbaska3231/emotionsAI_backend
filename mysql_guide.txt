sudo systemctl status mysql
sudo systemctl start mysql


mysql -u root -p
mysql -u def -p
	// or
mysql -h <ENDPOINT> -P <PORT> -u <USERNAME> -p

SELECT USER();


SHOW databases;
USE emotionsAI_DB;
SHOW TABLES;
DESCRIBE Diary;


DROP TABLE Diary;


CREATE TABLE Diary (
    diaryId INT PRIMARY KEY AUTO_INCREMENT,
    date DATE,
    inputText TEXT,
    emotionalIntensity VARCHAR(20),
    overallSentiment VARCHAR(20)
);

CREATE TABLE TargetEmotion (
    id INT PRIMARY KEY AUTO_INCREMENT,
    diaryId INT,
    emotion VARCHAR(255),
    emotionPercentage DOUBLE,
    FOREIGN KEY (diaryId) REFERENCES Diary(diaryId)
);

INSERT INTO diary (date, input_text, emotional_intensity, overall_sentiment) 
VALUES ('2024-05-08', 'Feeling happy today!', 'Medium', 'Positive');
INSERT INTO diary (date, input_text, emotional_intensity, overall_sentiment) 
VALUES ('2024-05-09', 'Feeling a mix of emotions today', 'High', 'Neutral');

INSERT INTO target_emotion (diary_id, emotion, emotion_percentage)
VALUES (1, 'Happiness', 100);
INSERT INTO target_emotion (diary_id, emotion, emotion_percentage)
VALUES (2, 'Happiness', 40),
       (2, 'Sadness', 30),
       (2, 'Excitement', 30);

SELECT 
    d.diary_id,
    d.date,
    d.input_text,
    d.emotional_intensity,
    d.overall_sentiment,
    te.emotion,
    te.emotion_percentage
FROM 
    diary d
LEFT JOIN 
    target_emotion te ON d.diary_id = te.diary_id;
